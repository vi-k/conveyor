# TODO

## LinkedList
- Проверка на зацикливание: item.insertAfter(item);

## Conveyor
- Ошибка в процессе после его отмены.

Что хотелось бы сделать?

Лёгкое управление очередью
Лёгкое создание событий
Контроль прохождения события

Контроль прохождения события
onDone
onCancel
onError

Что можно хотеть?
Дождаться результата выполнения события и возврат значения
В случае изъятия события из очереди?
- вернуть отмену
- переключиться на событие, отменившее это

setFlashMode
отменяет все предыдущие такие же события, т.к. они теряют смысл
метод мог бы вернуть реально установленное значение режима вспышки
и в это случае все удалённые события могли бы перепривязаться к последнему

!!! состояние может меняться посреди работы события. хочется сделать что-то,
что легко повзоляет коду работать и адекватно реагировать на изменения

state = ready
запуск события, которое работает только с ready {
  await ...

  yield state.copyWith(...) - а если здесь state уже не ready?
}

!!! yield выполняет очередь микротасок после себя

Кажется, restartable не должен удалять ранние события до запуска. Сейчас
удаляет на этапе добавления в очередь. Но если после предыдущего идут ещё
события... А может и нормально

тест на debugInfo
